# Тестовое задание: Форматирование межгалактического письма
## Описание проекта
Spring Boot приложение для форматирования деловых писем землян для различных инопланетных рас. Приложение принимает XML с исходным письмом, обрабатывает его по заданным правилам и возвращает отформатированное письмо в XML формате.

## Функциональные требования
1. Прием входящего XML: POST-запрос с XML-письмом

2. Форматирование письма:

    - Замена стандартного приветствия на расоспецифичное

    - Форматирование контактных данных

    - Разбивка текста на параграфы

    - Добавление стандартного завершения

3. Хранение данных: Использование H2 in-memory database

4. Возврат результата: Отформатированное письмо в XML или ошибка

## Технологический стек
- Java 21

- Spring Boot 3.4.4

- Thymeleaf (для шаблонизации XML)

- H2 Database (in-memory)

- MapStruct (для маппинга объектов)

- Jackson DataFormat Xml (для конвертации данных из xml файла)

- Lombok

- JUnit 5 + Mockito (для тестирования)

## Запуск приложения

```bash
mvn spring-boot:run
```

```bash
  curl -X POST -H "Content-Type: application/xml" localhost:8080
```
## Тестирование
```bash
mvn test
```

## API Endpoints

`POST /getLetter` - получение отформатированного письма

### Примечание:
Путь к файлу для конвертации устанавливается через переменную окружения и считывается
через application файл. 
По умолчанию выбирается файл alien_letter.xml

```yaml
letter_file:
  path: ${LETTER_FILE_PATH:src/main/resources/templates/alien_letter.xml}
```


